Problem statement:
We need to find the amount of macro-nutrients that the desired serving size contains.
Remember that the amount of macro-nutrients in a food is related to the unit serving size.
To find the amount, you must first convert the desired serving size's unit to the unit serving size's unit.
(e.g if you want to convert between 200g of rice and 0.5kg of rice, first convert the 0.5 kilograms to grams)
Then find the ratio between the serving size and the macro-nutrient amount. This gives you the serving amount per macro-nutrient.
(e.g 200g / 170 calories = 1.176g per calorie)
Then divide the desired serving size by that ratio to find the macro-nutrients in the desired serving size.
(essentially cross-multiplication)

Here's an example.
Find x amount of calories from 0.5kg of rice. There are 170 calories per 200g of rice.

Step 1. Convert physical units: 0.5kg = 500g;
Step 2. Find ratio between serving size and macro-nutrient amount: 200g / 170 calories = 1.176g per calorie
Step 3. Cross multiply:
500 g   1.176g
----- = ------
x cal   1 cal

500g * 1 calorie / 1.176g = 425.17 calories

Final answer = 425.17 calories